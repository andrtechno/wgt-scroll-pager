var IASPagingExtension=function(){return this.ias=null,this.pagebreaks=[[0,document.location.toString()]],this.lastPageNum=1,this.enabled=!0,this.listeners={pageChange:new IASCallbacks(jQuery)},this.onScroll=function(t,e){if(this.enabled){var i,r=this.ias,n=this.getCurrentPageNum(t),s=this.getCurrentPagebreak(t);this.lastPageNum!==n&&(i=s[1],r.fire("pageChange",[n,t,i])),this.lastPageNum=n}},this.onNext=function(t){var e=this.ias.getCurrentScrollOffset(this.ias.$scrollContainer);this.pagebreaks.push([e,t]);var i=this.getCurrentPageNum(e)+1;this.ias.fire("pageChange",[i,e,t]),this.lastPageNum=i},this.onPrev=function(t){var e=this,i=e.ias,r=i.getCurrentScrollOffset(i.$scrollContainer)-i.$scrollContainer.height(),n=i.getFirstItem();this.enabled=!1,this.pagebreaks.unshift([0,t]),i.one("rendered",(function(){for(var s=1,a=e.pagebreaks.length;s<a;s++)e.pagebreaks[s][0]=e.pagebreaks[s][0]+n.offset().top;var o=e.getCurrentPageNum(r)+1;i.fire("pageChange",[o,r,t]),e.lastPageNum=o,e.enabled=!0}))},this};IASPagingExtension.prototype.initialize=function(t){this.ias=t,jQuery.extend(t.listeners,this.listeners)},IASPagingExtension.prototype.bind=function(t){try{t.on("prev",jQuery.proxy(this.onPrev,this),this.priority)}catch(t){}t.on("next",jQuery.proxy(this.onNext,this),this.priority),t.on("scroll",jQuery.proxy(this.onScroll,this),this.priority)},IASPagingExtension.prototype.unbind=function(t){try{t.off("prev",this.onPrev)}catch(t){}t.off("next",this.onNext),t.off("scroll",this.onScroll)},IASPagingExtension.prototype.getCurrentPageNum=function(t){for(var e=this.pagebreaks.length-1;e>0;e--)if(t>this.pagebreaks[e][0])return e+1;return 1},IASPagingExtension.prototype.getCurrentPagebreak=function(t){for(var e=this.pagebreaks.length-1;e>=0;e--)if(t>this.pagebreaks[e][0])return this.pagebreaks[e];return null},IASPagingExtension.prototype.priority=500;
